{
  "rules": {
    "games": {
      "$gameId": {
        ".read": true,
        ".write": true,
        
        "players": {
          "$playerId": {
            ".write": true,
            "name": {
              ".write": true
            },
            "ready": {
              ".write": true
            },
            "currentCard": {
              ".write": true,
              ".validate": "newData.hasChildren(['suit', 'rank', 'value']) || newData.val() === null"
            },
            "hand": {
              ".write": true
            },
            "cardsPlayed": {
              ".write": true
            },
            "roundsWon": {
              ".write": true
            }
          }
        },
        
        "status": {
          ".write": true,
          ".validate": "newData.val() === 'waiting' || newData.val() === 'ready' || newData.val() === 'playing' || newData.val() === 'match_end'"
        },
        
        "trumpSuit": {
          ".write": true
        },
        
        "currentRound": {
          ".write": true
        },
        
        "roundTimer": {
          ".write": true
        },
        
        "rounds": {
          ".write": true
        },
        
        "bet": {
          ".write": true
        },
        
        "createdAt": {
          ".write": "!data.exists()"
        },
        
        "id": {
          ".write": "!data.exists()"
        },
        
        "cheatingAttempts": {
          ".write": false,
          ".read": false
        },
        
        "violations": {
          ".write": false,
          ".read": false
        }
      }
    }
  }
}